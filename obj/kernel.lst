   1                 	;;;-----------------------------------------
   2                 	;;; Start MC68HC11 gcc assembly output
   3                 	;;; gcc compiler 3.0.4 m68hc1x-20020922
   4                 	;;; Command:	cc1 -lang-c -I\alan\play\hc11\presto -I. -iprefix c:\programs\hc11\gnu-m6811-elf\bin\.
   5                 	;;; Compiled:	Sat Oct 12 23:29:33 2002
   6                 	;;; (META)compiled by GNU C version 2.95.2 19991024 (release).
   7                 	;;;-----------------------------------------
   8                 		.file	"kernel.c"
   9                 		.mode mshort
  10                 		.globl	current_tcb_p
  11                 		.sect	.data
  12                 		.type	current_tcb_p,@object
  13                 		.size	current_tcb_p,2
  14                 	current_tcb_p:
  15 0000 00 00       		.word	0
  16                 		.globl	current_tid
  17                 		.type	current_tid,@object
  18                 		.size	current_tid,1
  19                 	current_tid:
  20 0002 00          		.byte	0
  21                 		.globl	tcb_head_p
  22                 		.type	tcb_head_p,@object
  23                 		.size	tcb_head_p,2
  24                 	tcb_head_p:
  25 0003 00 00       		.word	0
  26                 		.globl	free_tcb_p
  27                 		.type	free_tcb_p,@object
  28                 		.size	free_tcb_p,2
  29                 	free_tcb_p:
  30 0005 00 00       		.word	0
  31                 		.globl	presto_initialized
  32                 		.type	presto_initialized,@object
  33                 		.size	presto_initialized,1
  34                 	presto_initialized:
  35 0007 00          		.byte	0
  36                 		.globl	free_mail_p
  37                 		.type	free_mail_p,@object
  38                 		.size	free_mail_p,2
  39                 	free_mail_p:
  40 0008 00 00       		.word	0
  41                 		.globl	po_mail_p
  42                 		.type	po_mail_p,@object
  43                 		.size	po_mail_p,2
  44                 	po_mail_p:
  45 000a 00 00       		.word	0
  46                 		.globl	global_new_sp
  47                 		.type	global_new_sp,@object
  48                 		.size	global_new_sp,2
  49                 	global_new_sp:
  50 000c 00 00       		.word	0
  51                 		.globl	global_old_sp_p
  52                 		.type	global_old_sp_p,@object
  53                 		.size	global_old_sp_p,2
  54                 	global_old_sp_p:
  55 000e 00 00       		.word	0
  56                 		.globl	global_new_fn
  57                 		.type	global_new_fn,@object
  58                 		.size	global_new_fn,2
  59                 	global_new_fn:
  60 0010 00 00       		.word	0
  61                 		; extern	clock_reset
  62                 		; extern	presto_create_task
  63                 		; extern	idle_task
  64                 		; extern	tid_to_tcbptr
  65                 		.sect	.text
  66                 		.globl	presto_init
  67                 		.type	presto_init,@function
  68                 	presto_init:
  69 0000 3C          		pshx
  70 0001 3C          		pshx
  71 0002 F6 00 00    		ldab	presto_initialized
  72 0005 C1 00       		cmpb	#0
  73 0007 27 03       		beq	.L2
  74 0009 7E 00 00    		bra	.L1
  75                 	.L2:
  76 000c C6 01       		ldab	#1
  77 000e F7 00 00    		stab	presto_initialized
  78 0011 CC 00 00    		ldd	#presto_master_clock
  79 0014 BD 00 00    		bsr	clock_reset
  80 0017 18 30       		tsy
  81 0019 18 6F 00    		clr	0,y
  82                 	.L3:
  83 001c 18 30       		tsy
  84 001e 18 E6 00    		ldab	0,y
  85 0021 C1 0C       		cmpb	#12
  86 0023 23 02       		bls	.L6
  87 0025 20 57       		bra	.L4
  88                 	.L6:
  89 0027 30          		tsx
  90 0028 4F          		clra
  91 0029 E6 00       		ldab	0,x
  92 002b 05          		asld
  93 002c 05          		asld
  94 002d 05          		asld
  95 002e 05          		asld
  96 002f C3 00 0A    		addd	#10
  97 0032 37          		pshb
  98 0033 36          		psha
  99 0034 38          		pulx
 100 0035 8F          		xgdx
 101 0036 C3 00 00    		addd	#tcb_list
 102 0039 8F          		xgdx
 103 003a 18 30       		tsy
 104 003c 4F          		clra
 105 003d 18 E6 00    		ldab	0,y
 106 0040 05          		asld
 107 0041 05          		asld
 108 0042 05          		asld
 109 0043 05          		asld
 110 0044 C3 00 10    		addd	#tcb_list+16
 111 0047 ED 00       		std	0,x
 112 0049 30          		tsx
 113 004a 4F          		clra
 114 004b E6 00       		ldab	0,x
 115 004d 05          		asld
 116 004e 05          		asld
 117 004f 05          		asld
 118 0050 05          		asld
 119 0051 37          		pshb
 120 0052 36          		psha
 121 0053 38          		pulx
 122 0054 8F          		xgdx
 123 0055 C3 00 00    		addd	#tcb_list
 124 0058 8F          		xgdx
 125 0059 18 E6 00    		ldab	0,y
 126 005c E7 00       		stab	0,x
 127 005e 30          		tsx
 128 005f 4F          		clra
 129 0060 E6 00       		ldab	0,x
 130 0062 05          		asld
 131 0063 05          		asld
 132 0064 05          		asld
 133 0065 05          		asld
 134 0066 C3 00 08    		addd	#8
 135 0069 C3 00 00    		addd	#tcb_list
 136 006c CE 00 02    		ldx	#2
 137 006f DD 00       		std	*_.tmp
 138 0071 18 DE 00    		ldy	*_.tmp
 139 0074 CD EF 00    		stx	0,y
 140 0077 18 30       		tsy
 141 0079 18 6C 00    		inc	0,y
 142 007c 20 9E       		bra	.L3
 143                 	.L4:
 144 007e 7F 00 CB    		clr	tcb_list+203
 145 0081 7F 00 CA    		clr	tcb_list+202
 146 0084 CE 00 00    		ldx	#tcb_list
 147 0087 FF 00 00    		stx	free_tcb_p
 148 008a 18 30       		tsy
 149 008c 18 6F 00    		clr	0,y
 150                 	.L7:
 151 008f 18 30       		tsy
 152 0091 18 E6 00    		ldab	0,y
 153 0094 C1 13       		cmpb	#19
 154 0096 23 02       		bls	.L10
 155 0098 20 3A       		bra	.L8
 156                 	.L10:
 157 009a C6 0F       		ldab	#15
 158 009c 30          		tsx
 159 009d A6 00       		ldaa	0,x
 160 009f 3D          		mul
 161 00a0 C3 00 0D    		addd	#13
 162 00a3 37          		pshb
 163 00a4 36          		psha
 164 00a5 38          		pulx
 165 00a6 8F          		xgdx
 166 00a7 C3 00 00    		addd	#mail_list
 167 00aa 8F          		xgdx
 168 00ab C6 0F       		ldab	#15
 169 00ad 18 30       		tsy
 170 00af 18 A6 00    		ldaa	0,y
 171 00b2 3D          		mul
 172 00b3 C3 00 0F    		addd	#mail_list+15
 173 00b6 ED 00       		std	0,x
 174 00b8 C6 0F       		ldab	#15
 175 00ba 30          		tsx
 176 00bb A6 00       		ldaa	0,x
 177 00bd 3D          		mul
 178 00be C3 00 00    		addd	#mail_list
 179 00c1 18 ED 02    		std	2,y
 180 00c4 18 E6 00    		ldab	0,y
 181 00c7 18 EE 02    		ldy	2,y
 182 00ca 18 6F 00    		clr	0,y
 183 00cd 18 E7 01    		stab	1,y
 184 00d0 6C 00       		inc	0,x
 185 00d2 20 BB       		bra	.L7
 186                 	.L8:
 187 00d4 7F 01 2B    		clr	mail_list+299
 188 00d7 7F 01 2A    		clr	mail_list+298
 189 00da CC 00 00    		ldd	#mail_list
 190 00dd FD 00 00    		std	free_mail_p
 191 00e0 5F          		clrb
 192 00e1 37          		pshb
 193 00e2 34          		des
 194 00e3 18 CE 00 32 		ldy	#50
 195 00e7 18 3C       		pshy
 196 00e9 CE 00 00    		ldx	#idle_stack
 197 00ec 3C          		pshx
 198 00ed CC 00 00    		ldd	#idle_task
 199 00f0 8D 15       		bsr	presto_create_task
 200 00f2 18 38       		puly
 201 00f4 18 38       		puly
 202 00f6 18 38       		puly
 203 00f8 F7 00 00    		stab	idle_tid
 204 00fb F6 00 00    		ldab	idle_tid
 205 00fe BD 00 00    		bsr	tid_to_tcbptr
 206 0101 FD 00 00    		std	idle_tcb_p
 207                 	.L1:
 208 0104 38          		pulx
 209 0105 38          		pulx
 210 0106 39          		rts
 211                 	.Lfe1:
 212                 		.size	presto_init,.Lfe1-presto_init
 213                 		; extern	presto_fatal_error
 214                 		; extern	presto_lock
 215                 		; extern	presto_restore_lock
 216                 		.globl	presto_create_task
 217                 		.type	presto_create_task,@function
 218                 	presto_create_task:
 219 0107 30          		tsx
 220 0108 8F          		xgdx
 221 0109 C3 FF F0    		addd	#-16
 222 010c 8F          		xgdx
 223 010d 35          		txs
 224 010e 30          		tsx
 225 010f ED 00       		std	0,x
 226 0111 F6 00 00    		ldab	presto_initialized
 227 0114 C1 00       		cmpb	#0
 228 0116 26 06       		bne	.L12
 229 0118 CC 00 02    		ldd	#2
 230 011b BD 00 00    		bsr	presto_fatal_error
 231                 	.L12:
 232 011e FE 00 00    		ldx	free_tcb_p
 233 0121 8C 00 00    		cpx	#0
 234 0124 26 0C       		bne	.L13
 235 0126 CC 00 03    		ldd	#3
 236 0129 BD 00 00    		bsr	presto_fatal_error
 237 012c CC FF FF    		ldd	#-1
 238 012f 7E 00 00    		bra	.L11
 239                 	.L13:
 240 0132 BD 00 00    		bsr	presto_lock
 241 0135 18 30       		tsy
 242 0137 18 ED 08    		std	8,y
 243 013a FE 00 00    		ldx	free_tcb_p
 244 013d 18 30       		tsy
 245 013f CD EF 02    		stx	2,y
 246 0142 FE 00 00    		ldx	free_tcb_p
 247 0145 EC 0A       		ldd	10,x
 248 0147 FD 00 00    		std	free_tcb_p
 249 014a 18 DF 00    		sty	*_.z
 250 014d CD EE 02    		ldx	2,y
 251 0150 DF 00       		stx	*_.xy
 252 0152 DE 00       		ldx	*_.z
 253 0154 EC 12       		ldd	18,x
 254 0156 18 E3 14    		addd	20,y
 255 0159 C3 FF FF    		addd	#-1
 256 015c DE 00       		ldx	*_.xy
 257 015e ED 03       		std	3,x
 258 0160 18 DF 00    		sty	*_.xy
 259 0163 18 DE 00    		ldy	*_.z
 260 0166 CD EE 02    		ldx	2,y
 261 0169 18 DE 00    		ldy	*_.xy
 262 016c 18 EE 12    		ldy	18,y
 263 016f 1A EF 05    		sty	5,x
 264 0172 18 DE 00    		ldy	*_.z
 265 0175 CD EE 02    		ldx	2,y
 266 0178 18 30       		tsy
 267 017a 18 E6 17    		ldab	23,y
 268 017d E7 07       		stab	7,x
 269 017f 18 DF 00    		sty	*_.xy
 270 0182 18 DE 00    		ldy	*_.z
 271 0185 CD EE 02    		ldx	2,y
 272 0188 6F 09       		clr	9,x
 273 018a 6F 08       		clr	8,x
 274 018c 18 DE 00    		ldy	*_.xy
 275 018f CD EE 02    		ldx	2,y
 276 0192 6F 0D       		clr	13,x
 277 0194 6F 0C       		clr	12,x
 278 0196 18 DF 00    		sty	*_.xy
 279 0199 18 DE 00    		ldy	*_.z
 280 019c CD EE 02    		ldx	2,y
 281 019f 6F 0F       		clr	15,x
 282 01a1 6F 0E       		clr	14,x
 283 01a3 18 DE 00    		ldy	*_.xy
 284 01a6 CD EE 02    		ldx	2,y
 285 01a9 EC 03       		ldd	3,x
 286 01ab 18 DF 00    		sty	*_.xy
 287 01ae 18 DE 00    		ldy	*_.z
 288 01b1 18 ED 04    		std	4,y
 289 01b4 30          		tsx
 290 01b5 EC 00       		ldd	0,x
 291 01b7 ED 06       		std	6,x
 292 01b9 18 DE 00    		ldy	*_.xy
 293 01bc 18 08       		iny
 294 01be 18 08       		iny
 295 01c0 18 08       		iny
 296 01c2 18 08       		iny
 297 01c4 CD EE 00    		ldx	0,y
 298 01c7 18 DF 00    		sty	*_.xy
 299 01ca 18 DE 00    		ldy	*_.z
 300 01cd CD EF 0E    		stx	14,y
 301 01d0 CD EE 0E    		ldx	14,y
 302 01d3 18 E6 07    		ldab	7,y
 303 01d6 18 E7 0C    		stab	12,y
 304 01d9 18 E6 0C    		ldab	12,y
 305 01dc E7 00       		stab	0,x
 306 01de 30          		tsx
 307 01df 18 DE 00    		ldy	*_.xy
 308 01e2 18 DF 00    		sty	*_.xy
 309 01e5 1A EE 0E    		ldy	14,x
 310 01e8 18 09       		dey
 311 01ea 1A EF 0E    		sty	14,x
 312 01ed EE 0E       		ldx	14,x
 313 01ef 18 DF 00    		sty	*_.z
 314 01f2 18 DE 00    		ldy	*_.xy
 315 01f5 CD EF 00    		stx	0,y
 316 01f8 18 30       		tsy
 317 01fa 18 08       		iny
 318 01fc 18 08       		iny
 319 01fe 18 08       		iny
 320 0200 18 08       		iny
 321 0202 CD EE 00    		ldx	0,y
 322 0205 18 DF 00    		sty	*_.xy
 323 0208 18 30       		tsy
 324 020a CD EF 0E    		stx	14,y
 325 020d CD EE 0E    		ldx	14,y
 326 0210 18 E6 06    		ldab	6,y
 327 0213 18 E7 0D    		stab	13,y
 328 0216 18 E6 0D    		ldab	13,y
 329 0219 E7 00       		stab	0,x
 330 021b 30          		tsx
 331 021c 18 DF 00    		sty	*_.z
 332 021f 18 DE 00    		ldy	*_.xy
 333 0222 18 DF 00    		sty	*_.xy
 334 0225 1A EE 0E    		ldy	14,x
 335 0228 18 09       		dey
 336 022a 1A EF 0E    		sty	14,x
 337 022d EE 0E       		ldx	14,x
 338 022f 18 DF 00    		sty	*_.z
 339 0232 18 DE 00    		ldy	*_.xy
 340 0235 CD EF 00    		stx	0,y
 341 0238 18 30       		tsy
 342 023a 18 08       		iny
 343 023c 18 08       		iny
 344 023e 18 08       		iny
 345 0240 18 08       		iny
 346 0242 CD EE 00    		ldx	0,y
 347 0245 18 DF 00    		sty	*_.xy
 348 0248 18 30       		tsy
 349 024a CD EF 0E    		stx	14,y
 350 024d CD EE 0E    		ldx	14,y
 351 0250 C6 66       		ldab	#102
 352 0252 E7 00       		stab	0,x
 353 0254 CD EE 0E    		ldx	14,y
 354 0257 09          		dex
 355 0258 CD EF 0E    		stx	14,y
 356 025b 18 EE 0E    		ldy	14,y
 357 025e 18 DF 00    		sty	*_.z
 358 0261 18 DE 00    		ldy	*_.xy
 359 0264 DE 00       		ldx	*_.z
 360 0266 CD EF 00    		stx	0,y
 361 0269 18 30       		tsy
 362 026b 18 08       		iny
 363 026d 18 08       		iny
 364 026f 18 08       		iny
 365 0271 18 08       		iny
 366 0273 18 EC 00    		ldd	0,y
 367 0276 30          		tsx
 368 0277 ED 0E       		std	14,x
 369 0279 18 DF 00    		sty	*_.xy
 370 027c 18 30       		tsy
 371 027e CD EE 0E    		ldx	14,y
 372 0281 C6 55       		ldab	#85
 373 0283 E7 00       		stab	0,x
 374 0285 CD EE 0E    		ldx	14,y
 375 0288 09          		dex
 376 0289 CD EF 0E    		stx	14,y
 377 028c 18 EE 0E    		ldy	14,y
 378 028f 18 DF 00    		sty	*_.z
 379 0292 18 DE 00    		ldy	*_.xy
 380 0295 DE 00       		ldx	*_.z
 381 0297 CD EF 00    		stx	0,y
 382 029a 18 30       		tsy
 383 029c 18 08       		iny
 384 029e 18 08       		iny
 385 02a0 18 08       		iny
 386 02a2 18 08       		iny
 387 02a4 18 EC 00    		ldd	0,y
 388 02a7 30          		tsx
 389 02a8 ED 0E       		std	14,x
 390 02aa 18 DF 00    		sty	*_.xy
 391 02ad 18 30       		tsy
 392 02af CD EE 0E    		ldx	14,y
 393 02b2 C6 44       		ldab	#68
 394 02b4 E7 00       		stab	0,x
 395 02b6 CD EE 0E    		ldx	14,y
 396 02b9 09          		dex
 397 02ba CD EF 0E    		stx	14,y
 398 02bd 18 EE 0E    		ldy	14,y
 399 02c0 18 DF 00    		sty	*_.z
 400 02c3 18 DE 00    		ldy	*_.xy
 401 02c6 DE 00       		ldx	*_.z
 402 02c8 CD EF 00    		stx	0,y
 403 02cb 18 30       		tsy
 404 02cd 18 08       		iny
 405 02cf 18 08       		iny
 406 02d1 18 08       		iny
 407 02d3 18 08       		iny
 408 02d5 18 EC 00    		ldd	0,y
 409 02d8 30          		tsx
 410 02d9 ED 0E       		std	14,x
 411 02db 18 DF 00    		sty	*_.xy
 412 02de 18 30       		tsy
 413 02e0 CD EE 0E    		ldx	14,y
 414 02e3 C6 33       		ldab	#51
 415 02e5 E7 00       		stab	0,x
 416 02e7 CD EE 0E    		ldx	14,y
 417 02ea 09          		dex
 418 02eb CD EF 0E    		stx	14,y
 419 02ee 18 EE 0E    		ldy	14,y
 420 02f1 18 DF 00    		sty	*_.z
 421 02f4 18 DE 00    		ldy	*_.xy
 422 02f7 DE 00       		ldx	*_.z
 423 02f9 CD EF 00    		stx	0,y
 424 02fc 18 30       		tsy
 425 02fe 18 08       		iny
 426 0300 18 08       		iny
 427 0302 18 08       		iny
 428 0304 18 08       		iny
 429 0306 18 EC 00    		ldd	0,y
 430 0309 30          		tsx
 431 030a ED 0E       		std	14,x
 432 030c 18 DF 00    		sty	*_.xy
 433 030f 18 30       		tsy
 434 0311 CD EE 0E    		ldx	14,y
 435 0314 C6 11       		ldab	#17
 436 0316 E7 00       		stab	0,x
 437 0318 CD EE 0E    		ldx	14,y
 438 031b 09          		dex
 439 031c CD EF 0E    		stx	14,y
 440 031f 18 EE 0E    		ldy	14,y
 441 0322 18 DF 00    		sty	*_.z
 442 0325 18 DE 00    		ldy	*_.xy
 443 0328 DE 00       		ldx	*_.z
 444 032a CD EF 00    		stx	0,y
 445 032d 18 30       		tsy
 446 032f 18 08       		iny
 447 0331 18 08       		iny
 448 0333 18 08       		iny
 449 0335 18 08       		iny
 450 0337 18 EC 00    		ldd	0,y
 451 033a 30          		tsx
 452 033b ED 0E       		std	14,x
 453 033d 18 DF 00    		sty	*_.xy
 454 0340 18 30       		tsy
 455 0342 CD EE 0E    		ldx	14,y
 456 0345 C6 22       		ldab	#34
 457 0347 E7 00       		stab	0,x
 458 0349 CD EE 0E    		ldx	14,y
 459 034c 09          		dex
 460 034d CD EF 0E    		stx	14,y
 461 0350 18 EE 0E    		ldy	14,y
 462 0353 18 DF 00    		sty	*_.z
 463 0356 18 DE 00    		ldy	*_.xy
 464 0359 DE 00       		ldx	*_.z
 465 035b CD EF 00    		stx	0,y
 466 035e 18 30       		tsy
 467 0360 18 08       		iny
 468 0362 18 08       		iny
 469 0364 18 08       		iny
 470 0366 18 08       		iny
 471 0368 18 EC 00    		ldd	0,y
 472 036b 37          		pshb
 473 036c 36          		psha
 474 036d 38          		pulx
 475 036e 6F 00       		clr	0,x
 476 0370 C3 FF FF    		addd	#-1
 477 0373 18 ED 00    		std	0,y
 478 0376 18 30       		tsy
 479 0378 18 08       		iny
 480 037a 18 08       		iny
 481 037c 18 08       		iny
 482 037e 18 08       		iny
 483 0380 18 EC 00    		ldd	0,y
 484 0383 30          		tsx
 485 0384 ED 0E       		std	14,x
 486 0386 18 DF 00    		sty	*_.xy
 487 0389 18 30       		tsy
 488 038b CD EE 0E    		ldx	14,y
 489 038e C6 FF       		ldab	#255
 490 0390 E7 00       		stab	0,x
 491 0392 CD EE 0E    		ldx	14,y
 492 0395 09          		dex
 493 0396 CD EF 0E    		stx	14,y
 494 0399 18 EE 0E    		ldy	14,y
 495 039c 18 DF 00    		sty	*_.z
 496 039f 18 DE 00    		ldy	*_.xy
 497 03a2 DE 00       		ldx	*_.z
 498 03a4 CD EF 00    		stx	0,y
 499 03a7 18 30       		tsy
 500 03a9 18 08       		iny
 501 03ab 18 08       		iny
 502 03ad 18 08       		iny
 503 03af 18 08       		iny
 504 03b1 18 EC 00    		ldd	0,y
 505 03b4 30          		tsx
 506 03b5 ED 0E       		std	14,x
 507 03b7 18 DF 00    		sty	*_.xy
 508 03ba 18 30       		tsy
 509 03bc CD EE 0E    		ldx	14,y
 510 03bf C6 EE       		ldab	#238
 511 03c1 E7 00       		stab	0,x
 512 03c3 CD EE 0E    		ldx	14,y
 513 03c6 09          		dex
 514 03c7 CD EF 0E    		stx	14,y
 515 03ca 18 EE 0E    		ldy	14,y
 516 03cd 18 DF 00    		sty	*_.z
 517 03d0 18 DE 00    		ldy	*_.xy
 518 03d3 DE 00       		ldx	*_.z
 519 03d5 CD EF 00    		stx	0,y
 520 03d8 18 30       		tsy
 521 03da 18 08       		iny
 522 03dc 18 08       		iny
 523 03de 18 08       		iny
 524 03e0 18 08       		iny
 525 03e2 18 EC 00    		ldd	0,y
 526 03e5 30          		tsx
 527 03e6 ED 0E       		std	14,x
 528 03e8 18 DF 00    		sty	*_.xy
 529 03eb 18 30       		tsy
 530 03ed CD EE 0E    		ldx	14,y
 531 03f0 C6 DD       		ldab	#221
 532 03f2 E7 00       		stab	0,x
 533 03f4 CD EE 0E    		ldx	14,y
 534 03f7 09          		dex
 535 03f8 CD EF 0E    		stx	14,y
 536 03fb 18 EE 0E    		ldy	14,y
 537 03fe 18 DF 00    		sty	*_.z
 538 0401 18 DE 00    		ldy	*_.xy
 539 0404 DE 00       		ldx	*_.z
 540 0406 CD EF 00    		stx	0,y
 541 0409 18 30       		tsy
 542 040b 18 08       		iny
 543 040d 18 08       		iny
 544 040f 18 08       		iny
 545 0411 18 08       		iny
 546 0413 18 EC 00    		ldd	0,y
 547 0416 30          		tsx
 548 0417 ED 0E       		std	14,x
 549 0419 18 DF 00    		sty	*_.xy
 550 041c 18 30       		tsy
 551 041e CD EE 0E    		ldx	14,y
 552 0421 C6 CC       		ldab	#204
 553 0423 E7 00       		stab	0,x
 554 0425 CD EE 0E    		ldx	14,y
 555 0428 09          		dex
 556 0429 CD EF 0E    		stx	14,y
 557 042c 18 EE 0E    		ldy	14,y
 558 042f 18 DF 00    		sty	*_.z
 559 0432 18 DE 00    		ldy	*_.xy
 560 0435 DE 00       		ldx	*_.z
 561 0437 CD EF 00    		stx	0,y
 562 043a 18 30       		tsy
 563 043c 18 08       		iny
 564 043e 18 08       		iny
 565 0440 18 08       		iny
 566 0442 18 08       		iny
 567 0444 18 EC 00    		ldd	0,y
 568 0447 30          		tsx
 569 0448 ED 0E       		std	14,x
 570 044a 18 DF 00    		sty	*_.xy
 571 044d 18 30       		tsy
 572 044f CD EE 0E    		ldx	14,y
 573 0452 C6 BB       		ldab	#187
 574 0454 E7 00       		stab	0,x
 575 0456 CD EE 0E    		ldx	14,y
 576 0459 09          		dex
 577 045a CD EF 0E    		stx	14,y
 578 045d 18 EE 0E    		ldy	14,y
 579 0460 18 DF 00    		sty	*_.z
 580 0463 18 DE 00    		ldy	*_.xy
 581 0466 DE 00       		ldx	*_.z
 582 0468 CD EF 00    		stx	0,y
 583 046b 18 30       		tsy
 584 046d 18 08       		iny
 585 046f 18 08       		iny
 586 0471 18 08       		iny
 587 0473 18 08       		iny
 588 0475 18 EC 00    		ldd	0,y
 589 0478 30          		tsx
 590 0479 ED 0E       		std	14,x
 591 047b 18 DF 00    		sty	*_.xy
 592 047e 18 30       		tsy
 593 0480 CD EE 0E    		ldx	14,y
 594 0483 C6 AA       		ldab	#170
 595 0485 E7 00       		stab	0,x
 596 0487 CD EE 0E    		ldx	14,y
 597 048a 09          		dex
 598 048b CD EF 0E    		stx	14,y
 599 048e 18 EE 0E    		ldy	14,y
 600 0491 18 DF 00    		sty	*_.z
 601 0494 18 DE 00    		ldy	*_.xy
 602 0497 DD 00       		std	*_.xy
 603 0499 DC 00       		ldd	*_.z
 604 049b 18 ED 00    		std	0,y
 605 049e 18 30       		tsy
 606 04a0 DC 00       		ldd	*_.xy
 607 04a2 CD EE 02    		ldx	2,y
 608 04a5 18 DF 00    		sty	*_.xy
 609 04a8 18 30       		tsy
 610 04aa 18 EE 04    		ldy	4,y
 611 04ad 1A EF 01    		sty	1,x
 612 04b0 FE 00 00    		ldx	tcb_head_p
 613 04b3 18 DF 00    		sty	*_.z
 614 04b6 18 DE 00    		ldy	*_.xy
 615 04b9 8C 00 00    		cpx	#0
 616 04bc 26 1C       		bne	.L14
 617 04be 18 EE 02    		ldy	2,y
 618 04c1 18 FF 00 00 		sty	tcb_head_p
 619 04c5 18 DF 00    		sty	*_.xy
 620 04c8 18 30       		tsy
 621 04ca CD EE 02    		ldx	2,y
 622 04cd 6F 0B       		clr	11,x
 623 04cf 6F 0A       		clr	10,x
 624 04d1 18 DF 00    		sty	*_.z
 625 04d4 18 DE 00    		ldy	*_.xy
 626 04d7 7E 00 00    		bra	.L15
 627                 	.L14:
 628 04da 18 30       		tsy
 629 04dc CD EE 02    		ldx	2,y
 630 04df 18 FE 00 00 		ldy	tcb_head_p
 631 04e3 E6 07       		ldab	7,x
 632 04e5 18 E1 07    		cmpb	7,y
 633 04e8 23 18       		bls	.L16
 634 04ea 18 30       		tsy
 635 04ec CD EE 02    		ldx	2,y
 636 04ef FC 00 00    		ldd	tcb_head_p
 637 04f2 ED 0A       		std	10,x
 638 04f4 18 DF 00    		sty	*_.z
 639 04f7 18 30       		tsy
 640 04f9 18 EE 02    		ldy	2,y
 641 04fc 18 FF 00 00 		sty	tcb_head_p
 642 0500 20 75       		bra	.L15
 643                 	.L16:
 644 0502 FE 00 00    		ldx	tcb_head_p
 645 0505 18 DF 00    		sty	*_.xy
 646 0508 18 30       		tsy
 647 050a CD EF 0A    		stx	10,y
 648 050d 18 DF 00    		sty	*_.z
 649 0510 18 DE 00    		ldy	*_.xy
 650                 	.L18:
 651 0513 18 30       		tsy
 652 0515 CD EE 0A    		ldx	10,y
 653 0518 EC 0A       		ldd	10,x
 654 051a 1A 83 00 00 		cpd	#0
 655 051e 26 02       		bne	.L20
 656 0520 20 27       		bra	.L19
 657                 	.L20:
 658 0522 DF 00       		stx	*_.xy
 659 0524 30          		tsx
 660 0525 1A EE 02    		ldy	2,x
 661 0528 DF 00       		stx	*_.z
 662 052a EE 0A       		ldx	10,x
 663 052c EE 0A       		ldx	10,x
 664 052e 18 E6 07    		ldab	7,y
 665 0531 E1 07       		cmpb	7,x
 666 0533 23 02       		bls	.L21
 667 0535 20 12       		bra	.L19
 668                 	.L21:
 669 0537 18 30       		tsy
 670 0539 CD EE 0A    		ldx	10,y
 671 053c EC 0A       		ldd	10,x
 672 053e DF 00       		stx	*_.xy
 673 0540 30          		tsx
 674 0541 ED 0A       		std	10,x
 675 0543 DF 00       		stx	*_.z
 676 0545 DE 00       		ldx	*_.xy
 677 0547 20 CA       		bra	.L18
 678                 	.L19:
 679 0549 30          		tsx
 680 054a 1A EE 02    		ldy	2,x
 681 054d 18 DF 00    		sty	*_.xy
 682 0550 18 30       		tsy
 683 0552 CD EE 0A    		ldx	10,y
 684 0555 EC 0A       		ldd	10,x
 685 0557 18 DF 00    		sty	*_.z
 686 055a 18 DE 00    		ldy	*_.xy
 687 055d 18 ED 0A    		std	10,y
 688 0560 18 30       		tsy
 689 0562 CD EE 0A    		ldx	10,y
 690 0565 18 DF 00    		sty	*_.xy
 691 0568 18 DE 00    		ldy	*_.z
 692 056b 18 EE 02    		ldy	2,y
 693 056e 1A EF 0A    		sty	10,x
 694 0571 18 DF 00    		sty	*_.z
 695 0574 18 DE 00    		ldy	*_.xy
 696                 	.L15:
 697 0577 30          		tsx
 698 0578 EC 08       		ldd	8,x
 699 057a BD 00 00    		bsr	presto_restore_lock
 700 057d 18 30       		tsy
 701 057f CD EE 02    		ldx	2,y
 702 0582 4F          		clra
 703 0583 E6 00       		ldab	0,x
 704 0585 2A 01       		bpl	.L22
 705 0587 4A          		deca
 706                 	.L22:
 707                 	.L11:
 708 0588 30          		tsx
 709 0589 8F          		xgdx
 710 058a C3 00 10    		addd	#16
 711 058d 8F          		xgdx
 712 058e 35          		txs
 713 058f 39          		rts
 714                 	.Lfe2:
 715                 		.size	presto_create_task,.Lfe2-presto_create_task
 716                 		; extern	set_interrupt
 717                 		; extern	presto_system_isr
 718                 		; extern	context_switch
 719                 		; extern	presto_start_master_timer
 720                 		.globl	presto_start_scheduler
 721                 		.type	presto_start_scheduler,@function
 722                 	presto_start_scheduler:
 723 0590 BD 00 00    		bsr	presto_lock
 724 0593 CE 00 00    		ldx	#presto_system_isr
 725 0596 3C          		pshx
 726 0597 C6 08       		ldab	#8
 727 0599 BD 00 00    		bsr	set_interrupt
 728 059c 31          		ins
 729 059d 31          		ins
 730 059e CE 00 00    		ldx	#context_switch
 731 05a1 3C          		pshx
 732 05a2 C6 10       		ldab	#16
 733 05a4 BD 00 00    		bsr	set_interrupt
 734 05a7 31          		ins
 735 05a8 31          		ins
 736 05a9 BD 00 00    		bsr	presto_start_master_timer
 737 05ac FC 00 00    		ldd	tcb_head_p
 738 05af FD 00 00    		std	current_tcb_p
 739 05b2 FE 00 00    		ldx	current_tcb_p
 740 05b5 8C 00 00    		cpx	#0
 741 05b8 26 06       		bne	.L24
 742 05ba CC 00 04    		ldd	#4
 743 05bd BD 00 00    		bsr	presto_fatal_error
 744                 	.L24:
 745 05c0 FE 00 00    		ldx	current_tcb_p
 746 05c3 E6 00       		ldab	0,x
 747 05c5 F7 00 00    		stab	current_tid
 748 05c8 FE 00 00    		ldx	current_tcb_p
 749 05cb EC 01       		ldd	1,x
 750 05cd FD 00 00    		std	global_new_sp
 751                 	; Begin inline assembler code
 752                 	#APP
 753 05d0 BE 00 00    		lds global_new_sp
 754 05d3 38          		pulx
 755 05d4 38          		pulx
 756 05d5 38          		pulx
 757 05d6 3B          		rti
 758                 	; End of inline assembler code
 759                 	#NO_APP
 760 05d7 CC 00 0E    		ldd	#14
 761 05da BD 00 00    		bsr	presto_fatal_error
 762 05dd 39          		rts
 763                 	.Lfe3:
 764                 		.size	presto_start_scheduler,.Lfe3-presto_start_scheduler
 765                 		; extern	clock_add
 766                 		; extern	presto_restart_master_timer
 767                 		; extern	deliver_mail
 768                 		; extern	presto_next_tcb_to_run
 769                 		.globl	presto_system_isr
 770                 		.type	presto_system_isr,@function
 771                 		.interrupt	presto_system_isr
 772                 	presto_system_isr:
 773 05de DE 00       		ldx	*_.tmp
 774 05e0 3C          		pshx
 775 05e1 DE 00       		ldx	*_.z
 776 05e3 3C          		pshx
 777 05e4 DE 00       		ldx	*_.xy
 778 05e6 3C          		pshx
 779 05e7 CE 00 64    		ldx	#100
 780 05ea 3C          		pshx
 781 05eb FC 00 02    		ldd	presto_master_clock+2
 782 05ee 37          		pshb
 783 05ef 36          		psha
 784 05f0 FC 00 00    		ldd	presto_master_clock
 785 05f3 37          		pshb
 786 05f4 36          		psha
 787 05f5 CC 00 00    		ldd	#presto_master_clock
 788 05f8 BD 00 00    		bsr	clock_add
 789 05fb 18 38       		puly
 790 05fd 18 38       		puly
 791 05ff 18 38       		puly
 792 0601 BD 00 00    		bsr	presto_restart_master_timer
 793 0604 BD 00 00    		bsr	deliver_mail
 794 0607 C1 00       		cmpb	#0
 795 0609 27 28       		beq	.L26
 796 060b FC 00 00    		ldd	current_tcb_p
 797 060e C3 00 01    		addd	#1
 798 0611 FD 00 00    		std	global_old_sp_p
 799 0614 8D 62       		bsr	presto_next_tcb_to_run
 800 0616 FD 00 00    		std	current_tcb_p
 801 0619 FE 00 00    		ldx	current_tcb_p
 802 061c E6 00       		ldab	0,x
 803 061e F7 00 00    		stab	current_tid
 804 0621 FE 00 00    		ldx	current_tcb_p
 805 0624 EC 01       		ldd	1,x
 806 0626 FD 00 00    		std	global_new_sp
 807                 	; Begin inline assembler code
 808                 	#APP
 809 0629 18 FE 00 00 		ldy global_old_sp_p
 810 062d 18 AF 00    		sts 0,y
 811 0630 BE 00 00    		lds global_new_sp
 812                 	; End of inline assembler code
 813                 	#NO_APP
 814                 	.L26:
 815 0633 38          		pulx
 816 0634 DF 00       		stx	*_.xy
 817 0636 38          		pulx
 818 0637 DF 00       		stx	*_.z
 819 0639 38          		pulx
 820 063a DF 00       		stx	*_.tmp
 821 063c 3B          		rti
 822                 	.Lfe4:
 823                 		.size	presto_system_isr,.Lfe4-presto_system_isr
 824                 		.globl	context_switch
 825                 		.type	context_switch,@function
 826                 		.interrupt	context_switch
 827                 	context_switch:
 828 063d DE 00       		ldx	*_.tmp
 829 063f 3C          		pshx
 830 0640 DE 00       		ldx	*_.z
 831 0642 3C          		pshx
 832 0643 DE 00       		ldx	*_.xy
 833 0645 3C          		pshx
 834 0646 FC 00 00    		ldd	current_tcb_p
 835 0649 C3 00 01    		addd	#1
 836 064c FD 00 00    		std	global_old_sp_p
 837 064f 8D 27       		bsr	presto_next_tcb_to_run
 838 0651 FD 00 00    		std	current_tcb_p
 839 0654 FE 00 00    		ldx	current_tcb_p
 840 0657 E6 00       		ldab	0,x
 841 0659 F7 00 00    		stab	current_tid
 842 065c FE 00 00    		ldx	current_tcb_p
 843 065f EC 01       		ldd	1,x
 844 0661 FD 00 00    		std	global_new_sp
 845                 	; Begin inline assembler code
 846                 	#APP
 847 0664 18 FE 00 00 		ldy global_old_sp_p
 848 0668 18 AF 00    		sts 0,y
 849 066b BE 00 00    		lds global_new_sp
 850                 	; End of inline assembler code
 851                 	#NO_APP
 852 066e 38          		pulx
 853 066f DF 00       		stx	*_.xy
 854 0671 38          		pulx
 855 0672 DF 00       		stx	*_.z
 856 0674 38          		pulx
 857 0675 DF 00       		stx	*_.tmp
 858 0677 3B          		rti
 859                 	.Lfe5:
 860                 		.size	context_switch,.Lfe5-context_switch
 861                 		.globl	presto_next_tcb_to_run
 862                 		.type	presto_next_tcb_to_run,@function
 863                 	presto_next_tcb_to_run:
 864 0678 3C          		pshx
 865 0679 FC 00 00    		ldd	tcb_head_p
 866 067c 30          		tsx
 867 067d ED 00       		std	0,x
 868                 	.L29:
 869 067f 30          		tsx
 870 0680 EE 00       		ldx	0,x
 871 0682 8C 00 00    		cpx	#0
 872 0685 26 02       		bne	.L31
 873 0687 20 1E       		bra	.L30
 874                 	.L31:
 875 0689 18 30       		tsy
 876 068b CD EE 00    		ldx	0,y
 877 068e EC 08       		ldd	8,x
 878 0690 1A 83 00 00 		cpd	#0
 879 0694 26 05       		bne	.L32
 880 0696 18 EC 00    		ldd	0,y
 881 0699 20 14       		bra	.L28
 882                 	.L32:
 883 069b 18 30       		tsy
 884 069d CD EE 00    		ldx	0,y
 885 06a0 EC 0A       		ldd	10,x
 886 06a2 30          		tsx
 887 06a3 ED 00       		std	0,x
 888 06a5 20 D8       		bra	.L29
 889                 	.L30:
 890 06a7 CC 00 07    		ldd	#7
 891 06aa BD 00 00    		bsr	presto_fatal_error
 892 06ad 4F          		clra
 893 06ae 5F          		clrb
 894                 	.L28:
 895 06af 38          		pulx
 896 06b0 39          		rts
 897                 	.Lfe6:
 898                 		.size	presto_next_tcb_to_run,.Lfe6-presto_next_tcb_to_run
 899                 		; extern	presto_timer
 900                 		.globl	presto_send_message
 901                 		.type	presto_send_message,@function
 902                 	presto_send_message:
 903 06b1 34          		des
 904 06b2 30          		tsx
 905 06b3 E7 00       		stab	0,x
 906 06b5 18 30       		tsy
 907 06b7 18 EC 05    		ldd	5,y
 908 06ba 37          		pshb
 909 06bb 36          		psha
 910 06bc 18 EC 03    		ldd	3,y
 911 06bf 37          		pshb
 912 06c0 36          		psha
 913 06c1 CE 00 00    		ldx	#0
 914 06c4 3C          		pshx
 915 06c5 18 30       		tsy
 916 06c7 18 E6 06    		ldab	6,y
 917 06ca 8D 09       		bsr	presto_timer
 918 06cc 18 38       		puly
 919 06ce 18 38       		puly
 920 06d0 18 38       		puly
 921 06d2 4F          		clra
 922 06d3 31          		ins
 923 06d4 39          		rts
 924                 	.Lfe7:
 925                 		.size	presto_send_message,.Lfe7-presto_send_message
 926                 		; extern	clock_compare
 927                 		.globl	presto_timer
 928                 		.type	presto_timer,@function
 929                 	presto_timer:
 930 06d5 30          		tsx
 931 06d6 8F          		xgdx
 932 06d7 C3 FF ED    		addd	#-19
 933 06da 8F          		xgdx
 934 06db 35          		txs
 935 06dc 30          		tsx
 936 06dd E7 00       		stab	0,x
 937 06df BD 00 00    		bsr	presto_lock
 938 06e2 18 30       		tsy
 939 06e4 18 ED 05    		std	5,y
 940 06e7 FE 00 00    		ldx	free_mail_p
 941 06ea 8C 00 00    		cpx	#0
 942 06ed 26 06       		bne	.L35
 943 06ef CC 00 0D    		ldd	#13
 944 06f2 BD 00 00    		bsr	presto_fatal_error
 945                 	.L35:
 946 06f5 18 30       		tsy
 947 06f7 18 E6 00    		ldab	0,y
 948 06fa BD 00 00    		bsr	tid_to_tcbptr
 949 06fd 18 DF 00    		sty	*_.xy
 950 0700 18 30       		tsy
 951 0702 18 ED 03    		std	3,y
 952 0705 30          		tsx
 953 0706 EE 03       		ldx	3,x
 954 0708 18 DF 00    		sty	*_.z
 955 070b 18 DE 00    		ldy	*_.xy
 956 070e 8C 00 00    		cpx	#0
 957 0711 26 06       		bne	.L36
 958 0713 CC 00 08    		ldd	#8
 959 0716 BD 00 00    		bsr	presto_fatal_error
 960                 	.L36:
 961 0719 FC 00 00    		ldd	free_mail_p
 962 071c 18 30       		tsy
 963 071e 18 ED 01    		std	1,y
 964 0721 FE 00 00    		ldx	free_mail_p
 965 0724 DD 00       		std	*_.z
 966 0726 EC 0D       		ldd	13,x
 967 0728 FD 00 00    		std	free_mail_p
 968 072b 30          		tsx
 969 072c 1A EE 01    		ldy	1,x
 970 072f FE 00 00    		ldx	current_tcb_p
 971 0732 E6 00       		ldab	0,x
 972 0734 18 E7 02    		stab	2,y
 973 0737 18 30       		tsy
 974 0739 CD EE 01    		ldx	1,y
 975 073c 18 DF 00    		sty	*_.xy
 976 073f 18 30       		tsy
 977 0741 18 EE 03    		ldy	3,y
 978 0744 1A EF 03    		sty	3,x
 979 0747 30          		tsx
 980 0748 EC 01       		ldd	1,x
 981 074a ED 11       		std	17,x
 982 074c 18 DF 00    		sty	*_.z
 983 074f 18 DE 00    		ldy	*_.xy
 984 0752 18 EE 15    		ldy	21,y
 985 0755 18 3C       		pshy
 986 0757 FC 00 02    		ldd	presto_master_clock+2
 987 075a 37          		pshb
 988 075b 36          		psha
 989 075c FC 00 00    		ldd	presto_master_clock
 990 075f 37          		pshb
 991 0760 36          		psha
 992 0761 18 30       		tsy
 993 0763 18 EC 17    		ldd	23,y
 994 0766 C3 00 05    		addd	#5
 995 0769 BD 00 00    		bsr	clock_add
 996 076c 18 38       		puly
 997 076e 18 38       		puly
 998 0770 18 38       		puly
 999 0772 18 30       		tsy
 1000 0774 CD EE 01    		ldx	1,y
 1001 0777 18 DF 00    		sty	*_.z
 1002 077a 18 30       		tsy
 1003 077c 18 EC 19    		ldd	25,y
 1004 077f ED 0B       		std	11,x
 1005 0781 18 EC 17    		ldd	23,y
 1006 0784 ED 09       		std	9,x
 1007 0786 FE 00 00    		ldx	po_mail_p
 1008 0789 8C 00 00    		cpx	#0
 1009 078c 26 1A       		bne	.L37
 1010 078e 18 EE 01    		ldy	1,y
 1011 0791 18 FF 00 00 		sty	po_mail_p
 1012 0795 18 DF 00    		sty	*_.xy
 1013 0798 18 DE 00    		ldy	*_.z
 1014 079b CD EE 01    		ldx	1,y
 1015 079e 6F 0E       		clr	14,x
 1016 07a0 6F 0D       		clr	13,x
 1017 07a2 18 DE 00    		ldy	*_.xy
 1018 07a5 7E 00 00    		bra	.L38
 1019                 	.L37:
 1020 07a8 FE 00 00    		ldx	po_mail_p
 1021 07ab 18 30       		tsy
 1022 07ad EC 07       		ldd	7,x
 1023 07af 18 ED 0B    		std	11,y
 1024 07b2 EC 05       		ldd	5,x
 1025 07b4 18 ED 09    		std	9,y
 1026 07b7 18 30       		tsy
 1027 07b9 CD EE 01    		ldx	1,y
 1028 07bc EC 07       		ldd	7,x
 1029 07be 37          		pshb
 1030 07bf 36          		psha
 1031 07c0 EC 05       		ldd	5,x
 1032 07c2 37          		pshb
 1033 07c3 36          		psha
 1034 07c4 18 DF 00    		sty	*_.z
 1035 07c7 18 30       		tsy
 1036 07c9 18 EC 0F    		ldd	15,y
 1037 07cc CD EE 0D    		ldx	13,y
 1038 07cf BD 00 00    		bsr	clock_compare
 1039 07d2 18 38       		puly
 1040 07d4 18 38       		puly
 1041 07d6 C1 00       		cmpb	#0
 1042 07d8 2F 19       		ble	.L39
 1043 07da 18 30       		tsy
 1044 07dc CD EE 01    		ldx	1,y
 1045 07df FC 00 00    		ldd	po_mail_p
 1046 07e2 ED 0D       		std	13,x
 1047 07e4 18 DF 00    		sty	*_.z
 1048 07e7 18 30       		tsy
 1049 07e9 18 EE 01    		ldy	1,y
 1050 07ec 18 FF 00 00 		sty	po_mail_p
 1051 07f0 7E 00 00    		bra	.L38
 1052                 	.L39:
 1053 07f3 FE 00 00    		ldx	po_mail_p
 1054 07f6 18 DF 00    		sty	*_.xy
 1055 07f9 18 30       		tsy
 1056 07fb CD EF 07    		stx	7,y
 1057 07fe 18 DF 00    		sty	*_.z
 1058 0801 18 DE 00    		ldy	*_.xy
 1059                 	.L41:
 1060 0804 18 30       		tsy
 1061 0806 CD EE 07    		ldx	7,y
 1062 0809 EC 0D       		ldd	13,x
 1063 080b 1A 83 00 00 		cpd	#0
 1064 080f 26 02       		bne	.L43
 1065 0811 20 4B       		bra	.L42
 1066                 	.L43:
 1067 0813 18 30       		tsy
 1068 0815 CD EE 07    		ldx	7,y
 1069 0818 EE 0D       		ldx	13,x
 1070 081a EC 07       		ldd	7,x
 1071 081c 18 ED 0F    		std	15,y
 1072 081f EC 05       		ldd	5,x
 1073 0821 18 ED 0D    		std	13,y
 1074 0824 18 30       		tsy
 1075 0826 CD EE 01    		ldx	1,y
 1076 0829 EC 07       		ldd	7,x
 1077 082b 37          		pshb
 1078 082c 36          		psha
 1079 082d EC 05       		ldd	5,x
 1080 082f 37          		pshb
 1081 0830 36          		psha
 1082 0831 18 DF 00    		sty	*_.z
 1083 0834 18 30       		tsy
 1084 0836 18 EC 13    		ldd	19,y
 1085 0839 CD EE 11    		ldx	17,y
 1086 083c BD 00 00    		bsr	clock_compare
 1087 083f 18 38       		puly
 1088 0841 18 38       		puly
 1089 0843 C1 00       		cmpb	#0
 1090 0845 2F 02       		ble	.L44
 1091 0847 20 15       		bra	.L42
 1092                 	.L44:
 1093 0849 18 DF 00    		sty	*_.xy
 1094 084c 18 30       		tsy
 1095 084e CD EE 07    		ldx	7,y
 1096 0851 EC 0D       		ldd	13,x
 1097 0853 30          		tsx
 1098 0854 ED 07       		std	7,x
 1099 0856 18 DF 00    		sty	*_.z
 1100 0859 18 DE 00    		ldy	*_.xy
 1101 085c 20 A6       		bra	.L41
 1102                 	.L42:
 1103 085e DF 00       		stx	*_.xy
 1104 0860 30          		tsx
 1105 0861 1A EE 01    		ldy	1,x
 1106 0864 DF 00       		stx	*_.z
 1107 0866 EE 07       		ldx	7,x
 1108 0868 EC 0D       		ldd	13,x
 1109 086a 18 ED 0D    		std	13,y
 1110 086d 18 30       		tsy
 1111 086f CD EE 07    		ldx	7,y
 1112 0872 18 DF 00    		sty	*_.xy
 1113 0875 18 DE 00    		ldy	*_.z
 1114 0878 18 EE 01    		ldy	1,y
 1115 087b 1A EF 0D    		sty	13,x
 1116 087e 18 DF 00    		sty	*_.z
 1117 0881 18 DE 00    		ldy	*_.xy
 1118                 	.L38:
 1119 0884 30          		tsx
 1120 0885 EC 05       		ldd	5,x
 1121 0887 BD 00 00    		bsr	presto_restore_lock
 1122 088a 4F          		clra
 1123 088b 5F          		clrb
 1124 088c 30          		tsx
 1125 088d 8F          		xgdx
 1126 088e C3 00 13    		addd	#19
 1127 0891 8F          		xgdx
 1128 0892 35          		txs
 1129 0893 39          		rts
 1130                 	.Lfe8:
 1131                 		.size	presto_timer,.Lfe8-presto_timer
 1132                 		.globl	presto_wait_for_message
 1133                 		.type	presto_wait_for_message,@function
 1134                 	presto_wait_for_message:
 1135 0894 3C          		pshx
 1136 0895 3C          		pshx
 1137 0896 3C          		pshx
 1138 0897 30          		tsx
 1139 0898 ED 00       		std	0,x
 1140 089a FE 00 00    		ldx	current_tcb_p
 1141 089d EC 0C       		ldd	12,x
 1142 089f 1A 83 00 00 		cpd	#0
 1143 08a3 26 0B       		bne	.L46
 1144 08a5 FE 00 00    		ldx	current_tcb_p
 1145 08a8 18 CE 00 01 		ldy	#1
 1146 08ac 1A EF 08    		sty	8,x
 1147                 	; Begin inline assembler code
 1148                 	#APP
 1149 08af 3F          		swi
 1150                 	; End of inline assembler code
 1151                 	#NO_APP
 1152                 	.L46:
 1153 08b0 BD 00 00    		bsr	presto_lock
 1154 08b3 18 30       		tsy
 1155 08b5 18 ED 04    		std	4,y
 1156 08b8 FE 00 00    		ldx	current_tcb_p
 1157 08bb EC 0C       		ldd	12,x
 1158 08bd 30          		tsx
 1159 08be ED 02       		std	2,x
 1160 08c0 18 DF 00    		sty	*_.z
 1161 08c3 18 30       		tsy
 1162 08c5 18 EC 02    		ldd	2,y
 1163 08c8 1A 83 00 00 		cpd	#0
 1164 08cc 26 06       		bne	.L47
 1165 08ce CC 00 09    		ldd	#9
 1166 08d1 BD 00 00    		bsr	presto_fatal_error
 1167                 	.L47:
 1168 08d4 18 DF 00    		sty	*_.xy
 1169 08d7 18 30       		tsy
 1170 08d9 CD EE 02    		ldx	2,y
 1171 08dc EC 03       		ldd	3,x
 1172 08de 18 DF 00    		sty	*_.z
 1173 08e1 18 DE 00    		ldy	*_.xy
 1174 08e4 1A B3 00 00 		cpd	current_tcb_p
 1175 08e8 27 06       		beq	.L48
 1176 08ea CC 00 0A    		ldd	#10
 1177 08ed BD 00 00    		bsr	presto_fatal_error
 1178                 	.L48:
 1179 08f0 FE 00 00    		ldx	current_tcb_p
 1180 08f3 18 30       		tsy
 1181 08f5 18 EC 02    		ldd	2,y
 1182 08f8 1A A3 0E    		cpd	14,x
 1183 08fb 26 10       		bne	.L49
 1184 08fd FE 00 00    		ldx	current_tcb_p
 1185 0900 6F 0D       		clr	13,x
 1186 0902 6F 0C       		clr	12,x
 1187 0904 FE 00 00    		ldx	current_tcb_p
 1188 0907 6F 0F       		clr	15,x
 1189 0909 6F 0E       		clr	14,x
 1190 090b 20 12       		bra	.L50
 1191                 	.L49:
 1192 090d FE 00 00    		ldx	current_tcb_p
 1193 0910 DF 00       		stx	*_.xy
 1194 0912 30          		tsx
 1195 0913 1A EE 02    		ldy	2,x
 1196 0916 18 EC 0D    		ldd	13,y
 1197 0919 DF 00       		stx	*_.z
 1198 091b DE 00       		ldx	*_.xy
 1199 091d ED 0C       		std	12,x
 1200                 	.L50:
 1201 091f 30          		tsx
 1202 0920 EE 00       		ldx	0,x
 1203 0922 8C 00 00    		cpx	#0
 1204 0925 27 14       		beq	.L51
 1205 0927 DF 00       		stx	*_.xy
 1206 0929 30          		tsx
 1207 092a 1A EE 00    		ldy	0,x
 1208 092d DF 00       		stx	*_.z
 1209 092f EE 02       		ldx	2,x
 1210 0931 EC 0B       		ldd	11,x
 1211 0933 18 ED 02    		std	2,y
 1212 0936 EC 09       		ldd	9,x
 1213 0938 18 ED 00    		std	0,y
 1214                 	.L51:
 1215 093b 18 30       		tsy
 1216 093d CD EE 02    		ldx	2,y
 1217 0940 18 DF 00    		sty	*_.xy
 1218 0943 18 FE 00 00 		ldy	free_mail_p
 1219 0947 1A EF 0D    		sty	13,x
 1220 094a 30          		tsx
 1221 094b EE 02       		ldx	2,x
 1222 094d FF 00 00    		stx	free_mail_p
 1223 0950 18 DF 00    		sty	*_.z
 1224 0953 18 DE 00    		ldy	*_.xy
 1225 0956 18 EC 04    		ldd	4,y
 1226 0959 BD 00 00    		bsr	presto_restore_lock
 1227 095c CC 00 01    		ldd	#1
 1228 095f 38          		pulx
 1229 0960 38          		pulx
 1230 0961 38          		pulx
 1231 0962 39          		rts
 1232                 	.Lfe9:
 1233                 		.size	presto_wait_for_message,.Lfe9-presto_wait_for_message
 1234                 		.globl	deliver_mail
 1235                 		.type	deliver_mail,@function
 1236                 	deliver_mail:
 1237 0963 30          		tsx
 1238 0964 8F          		xgdx
 1239 0965 C3 FF F7    		addd	#-9
 1240 0968 8F          		xgdx
 1241 0969 35          		txs
 1242 096a 30          		tsx
 1243 096b 6F 00       		clr	0,x
 1244                 	.L53:
 1245 096d FC 00 00    		ldd	po_mail_p
 1246 0970 1A 83 00 00 		cpd	#0
 1247 0974 26 03 7E 00 		beq	.L54
 1247      00 
 1248 0979 FE 00 00    		ldx	po_mail_p
 1249 097c 18 30       		tsy
 1250 097e EC 07       		ldd	7,x
 1251 0980 18 ED 07    		std	7,y
 1252 0983 EC 05       		ldd	5,x
 1253 0985 18 ED 05    		std	5,y
 1254 0988 FC 00 02    		ldd	presto_master_clock+2
 1255 098b 37          		pshb
 1256 098c 36          		psha
 1257 098d FC 00 00    		ldd	presto_master_clock
 1258 0990 37          		pshb
 1259 0991 36          		psha
 1260 0992 18 30       		tsy
 1261 0994 18 EC 0B    		ldd	11,y
 1262 0997 CD EE 09    		ldx	9,y
 1263 099a BD 00 00    		bsr	clock_compare
 1264 099d 18 38       		puly
 1265 099f 18 38       		puly
 1266 09a1 C1 00       		cmpb	#0
 1267 09a3 2F 02       		ble	.L55
 1268 09a5 20 78       		bra	.L54
 1269                 	.L55:
 1270 09a7 FE 00 00    		ldx	po_mail_p
 1271 09aa EC 03       		ldd	3,x
 1272 09ac 30          		tsx
 1273 09ad ED 03       		std	3,x
 1274 09af 18 30       		tsy
 1275 09b1 18 EC 03    		ldd	3,y
 1276 09b4 1A 83 00 00 		cpd	#0
 1277 09b8 26 06       		bne	.L57
 1278 09ba CC 00 0B    		ldd	#11
 1279 09bd BD 00 00    		bsr	presto_fatal_error
 1280                 	.L57:
 1281 09c0 18 30       		tsy
 1282 09c2 CD EE 03    		ldx	3,y
 1283 09c5 6F 09       		clr	9,x
 1284 09c7 6F 08       		clr	8,x
 1285 09c9 FC 00 00    		ldd	po_mail_p
 1286 09cc 30          		tsx
 1287 09cd ED 01       		std	1,x
 1288 09cf FE 00 00    		ldx	po_mail_p
 1289 09d2 EC 0D       		ldd	13,x
 1290 09d4 FD 00 00    		std	po_mail_p
 1291 09d7 CD EE 03    		ldx	3,y
 1292 09da EC 0C       		ldd	12,x
 1293 09dc 1A 83 00 00 		cpd	#0
 1294 09e0 26 16       		bne	.L58
 1295 09e2 CD EE 03    		ldx	3,y
 1296 09e5 18 EE 01    		ldy	1,y
 1297 09e8 1A EF 0C    		sty	12,x
 1298 09eb 18 30       		tsy
 1299 09ed CD EE 03    		ldx	3,y
 1300 09f0 18 EE 01    		ldy	1,y
 1301 09f3 1A EF 0E    		sty	14,x
 1302 09f6 20 18       		bra	.L59
 1303                 	.L58:
 1304 09f8 18 30       		tsy
 1305 09fa CD EE 03    		ldx	3,y
 1306 09fd EE 0E       		ldx	14,x
 1307 09ff 18 EE 01    		ldy	1,y
 1308 0a02 1A EF 0D    		sty	13,x
 1309 0a05 18 30       		tsy
 1310 0a07 CD EE 03    		ldx	3,y
 1311 0a0a 18 EE 01    		ldy	1,y
 1312 0a0d 1A EF 0E    		sty	14,x
 1313                 	.L59:
 1314 0a10 18 30       		tsy
 1315 0a12 CD EE 01    		ldx	1,y
 1316 0a15 6F 0E       		clr	14,x
 1317 0a17 6F 0D       		clr	13,x
 1318 0a19 30          		tsx
 1319 0a1a 6C 00       		inc	0,x
 1320 0a1c 7E 00 00    		bra	.L53
 1321                 	.L54:
 1322 0a1f 18 30       		tsy
 1323 0a21 4F          		clra
 1324 0a22 18 E6 00    		ldab	0,y
 1325 0a25 30          		tsx
 1326 0a26 8F          		xgdx
 1327 0a27 C3 00 09    		addd	#9
 1328 0a2a 8F          		xgdx
 1329 0a2b 35          		txs
 1330 0a2c 39          		rts
 1331                 	.Lfe10:
 1332                 		.size	deliver_mail,.Lfe10-deliver_mail
 1333                 		.globl	idle_task
 1334                 		.type	idle_task,@function
 1335                 	idle_task:
 1336 0a2d 01          		nop
 1337                 	.L61:
 1338 0a2e 20 FE       		bra	.L61
 1339                 	.Lfe11:
 1340                 		.size	idle_task,.Lfe11-idle_task
 1341                 		.globl	tid_to_tcbptr
 1342                 		.type	tid_to_tcbptr,@function
 1343                 	tid_to_tcbptr:
 1344 0a30 34          		des
 1345 0a31 30          		tsx
 1346 0a32 E7 00       		stab	0,x
 1347 0a34 E6 00       		ldab	0,x
 1348 0a36 C1 0C       		cmpb	#12
 1349 0a38 23 06       		bls	.L65
 1350 0a3a CC 00 0C    		ldd	#12
 1351 0a3d BD 00 00    		bsr	presto_fatal_error
 1352                 	.L65:
 1353 0a40 30          		tsx
 1354 0a41 4F          		clra
 1355 0a42 E6 00       		ldab	0,x
 1356 0a44 05          		asld
 1357 0a45 05          		asld
 1358 0a46 05          		asld
 1359 0a47 05          		asld
 1360 0a48 C3 00 08    		addd	#8
 1361 0a4b C3 00 00    		addd	#tcb_list
 1362 0a4e 37          		pshb
 1363 0a4f 36          		psha
 1364 0a50 38          		pulx
 1365 0a51 EE 00       		ldx	0,x
 1366 0a53 8C 00 02    		cpx	#2
 1367 0a56 26 04       		bne	.L66
 1368 0a58 4F          		clra
 1369 0a59 5F          		clrb
 1370 0a5a 20 0B       		bra	.L64
 1371                 	.L66:
 1372 0a5c 30          		tsx
 1373 0a5d 4F          		clra
 1374 0a5e E6 00       		ldab	0,x
 1375 0a60 05          		asld
 1376 0a61 05          		asld
 1377 0a62 05          		asld
 1378 0a63 05          		asld
 1379 0a64 C3 00 00    		addd	#tcb_list
 1380                 	.L64:
 1381 0a67 31          		ins
 1382 0a68 39          		rts
 1383                 	.Lfe12:
 1384                 		.size	tid_to_tcbptr,.Lfe12-tid_to_tcbptr
 1385                 		.globl	presto_start_master_timer
 1386                 		.type	presto_start_master_timer,@function
 1387                 	presto_start_master_timer:
 1388 0a69 CE 10 0E    		ldx	#4110
 1389 0a6c EC 00       		ldd	0,x
 1390 0a6e C3 61 A8    		addd	#25000
 1391 0a71 CE 10 18    		ldx	#4120
 1392 0a74 ED 00       		std	0,x
 1393 0a76 CE 10 22    		ldx	#4130
 1394 0a79 E6 00       		ldab	0,x
 1395 0a7b CA 40       		orab	#64
 1396 0a7d E7 00       		stab	0,x
 1397 0a7f CE 10 23    		ldx	#4131
 1398 0a82 C6 40       		ldab	#64
 1399 0a84 E7 00       		stab	0,x
 1400 0a86 CE 10 20    		ldx	#4128
 1401 0a89 E6 00       		ldab	0,x
 1402 0a8b C4 3F       		andb	#63
 1403 0a8d E7 00       		stab	0,x
 1404 0a8f 39          		rts
 1405                 	.Lfe13:
 1406                 		.size	presto_start_master_timer,.Lfe13-presto_start_master_timer
 1407                 		.globl	presto_restart_master_timer
 1408                 		.type	presto_restart_master_timer,@function
 1409                 	presto_restart_master_timer:
 1410 0a90 CE 10 18    		ldx	#4120
 1411 0a93 EC 00       		ldd	0,x
 1412 0a95 C3 61 A8    		addd	#25000
 1413 0a98 ED 00       		std	0,x
 1414 0a9a CE 10 23    		ldx	#4131
 1415 0a9d C6 40       		ldab	#64
 1416 0a9f E7 00       		stab	0,x
 1417 0aa1 39          		rts
 1418                 	.Lfe14:
 1419                 		.size	presto_restart_master_timer,.Lfe14-presto_restart_master_timer
 1420                 		.comm	flag_mirror,1,1
 1421                 		.comm	tcb_list,208,1
 1422                 		.comm	presto_master_clock,4,1
 1423                 		.comm	idle_stack,50,1
 1424                 		.comm	idle_tcb_p,2,1
 1425                 		.comm	idle_tid,1,1
 1426                 		.comm	mail_list,300,1
 1427                 		.comm	global_save_sp,2,1
 1428                 		.ident	"GCC: (GNU) 3.0.4 m68hc1x-20020922"
DEFINED SYMBOLS
                            *ABS*:00000000 kernel.c
C:\WIN98\TEMP\cc31qjgb.s:14     .data:00000000 current_tcb_p
C:\WIN98\TEMP\cc31qjgb.s:19     .data:00000002 current_tid
C:\WIN98\TEMP\cc31qjgb.s:24     .data:00000003 tcb_head_p
C:\WIN98\TEMP\cc31qjgb.s:29     .data:00000005 free_tcb_p
C:\WIN98\TEMP\cc31qjgb.s:34     .data:00000007 presto_initialized
C:\WIN98\TEMP\cc31qjgb.s:39     .data:00000008 free_mail_p
C:\WIN98\TEMP\cc31qjgb.s:44     .data:0000000a po_mail_p
C:\WIN98\TEMP\cc31qjgb.s:49     .data:0000000c global_new_sp
C:\WIN98\TEMP\cc31qjgb.s:54     .data:0000000e global_old_sp_p
C:\WIN98\TEMP\cc31qjgb.s:59     .data:00000010 global_new_fn
C:\WIN98\TEMP\cc31qjgb.s:68     .text:00000000 presto_init
C:\WIN98\TEMP\cc31qjgb.s:75     .text:0000000c .L2
C:\WIN98\TEMP\cc31qjgb.s:207    .text:00000104 .L1
                            *COM*:00000004 presto_master_clock
C:\WIN98\TEMP\cc31qjgb.s:82     .text:0000001c .L3
C:\WIN98\TEMP\cc31qjgb.s:88     .text:00000027 .L6
C:\WIN98\TEMP\cc31qjgb.s:143    .text:0000007e .L4
                            *COM*:000000d0 tcb_list
C:\WIN98\TEMP\cc31qjgb.s:150    .text:0000008f .L7
C:\WIN98\TEMP\cc31qjgb.s:156    .text:0000009a .L10
C:\WIN98\TEMP\cc31qjgb.s:186    .text:000000d4 .L8
                            *COM*:0000012c mail_list
                            *COM*:00000032 idle_stack
C:\WIN98\TEMP\cc31qjgb.s:1335   .text:00000a2d idle_task
C:\WIN98\TEMP\cc31qjgb.s:218    .text:00000107 presto_create_task
                            *COM*:00000001 idle_tid
C:\WIN98\TEMP\cc31qjgb.s:1343   .text:00000a30 tid_to_tcbptr
                            *COM*:00000002 idle_tcb_p
C:\WIN98\TEMP\cc31qjgb.s:211    .text:00000107 .Lfe1
C:\WIN98\TEMP\cc31qjgb.s:231    .text:0000011e .L12
C:\WIN98\TEMP\cc31qjgb.s:239    .text:00000132 .L13
C:\WIN98\TEMP\cc31qjgb.s:707    .text:00000588 .L11
C:\WIN98\TEMP\cc31qjgb.s:627    .text:000004da .L14
C:\WIN98\TEMP\cc31qjgb.s:696    .text:00000577 .L15
C:\WIN98\TEMP\cc31qjgb.s:643    .text:00000502 .L16
C:\WIN98\TEMP\cc31qjgb.s:650    .text:00000513 .L18
C:\WIN98\TEMP\cc31qjgb.s:657    .text:00000522 .L20
C:\WIN98\TEMP\cc31qjgb.s:678    .text:00000549 .L19
C:\WIN98\TEMP\cc31qjgb.s:668    .text:00000537 .L21
C:\WIN98\TEMP\cc31qjgb.s:706    .text:00000588 .L22
C:\WIN98\TEMP\cc31qjgb.s:714    .text:00000590 .Lfe2
C:\WIN98\TEMP\cc31qjgb.s:722    .text:00000590 presto_start_scheduler
C:\WIN98\TEMP\cc31qjgb.s:772    .text:000005de presto_system_isr
C:\WIN98\TEMP\cc31qjgb.s:827    .text:0000063d context_switch
C:\WIN98\TEMP\cc31qjgb.s:1387   .text:00000a69 presto_start_master_timer
C:\WIN98\TEMP\cc31qjgb.s:744    .text:000005c0 .L24
C:\WIN98\TEMP\cc31qjgb.s:763    .text:000005de .Lfe3
C:\WIN98\TEMP\cc31qjgb.s:1409   .text:00000a90 presto_restart_master_timer
C:\WIN98\TEMP\cc31qjgb.s:1236   .text:00000963 deliver_mail
C:\WIN98\TEMP\cc31qjgb.s:814    .text:00000633 .L26
C:\WIN98\TEMP\cc31qjgb.s:863    .text:00000678 presto_next_tcb_to_run
C:\WIN98\TEMP\cc31qjgb.s:822    .text:0000063d .Lfe4
C:\WIN98\TEMP\cc31qjgb.s:859    .text:00000678 .Lfe5
C:\WIN98\TEMP\cc31qjgb.s:868    .text:0000067f .L29
C:\WIN98\TEMP\cc31qjgb.s:874    .text:00000689 .L31
C:\WIN98\TEMP\cc31qjgb.s:889    .text:000006a7 .L30
C:\WIN98\TEMP\cc31qjgb.s:882    .text:0000069b .L32
C:\WIN98\TEMP\cc31qjgb.s:894    .text:000006af .L28
C:\WIN98\TEMP\cc31qjgb.s:897    .text:000006b1 .Lfe6
C:\WIN98\TEMP\cc31qjgb.s:902    .text:000006b1 presto_send_message
C:\WIN98\TEMP\cc31qjgb.s:929    .text:000006d5 presto_timer
C:\WIN98\TEMP\cc31qjgb.s:924    .text:000006d5 .Lfe7
C:\WIN98\TEMP\cc31qjgb.s:945    .text:000006f5 .L35
C:\WIN98\TEMP\cc31qjgb.s:960    .text:00000719 .L36
C:\WIN98\TEMP\cc31qjgb.s:1019   .text:000007a8 .L37
C:\WIN98\TEMP\cc31qjgb.s:1118   .text:00000884 .L38
C:\WIN98\TEMP\cc31qjgb.s:1052   .text:000007f3 .L39
C:\WIN98\TEMP\cc31qjgb.s:1059   .text:00000804 .L41
C:\WIN98\TEMP\cc31qjgb.s:1066   .text:00000813 .L43
C:\WIN98\TEMP\cc31qjgb.s:1102   .text:0000085e .L42
C:\WIN98\TEMP\cc31qjgb.s:1092   .text:00000849 .L44
C:\WIN98\TEMP\cc31qjgb.s:1130   .text:00000894 .Lfe8
C:\WIN98\TEMP\cc31qjgb.s:1134   .text:00000894 presto_wait_for_message
C:\WIN98\TEMP\cc31qjgb.s:1152   .text:000008b0 .L46
C:\WIN98\TEMP\cc31qjgb.s:1167   .text:000008d4 .L47
C:\WIN98\TEMP\cc31qjgb.s:1178   .text:000008f0 .L48
C:\WIN98\TEMP\cc31qjgb.s:1191   .text:0000090d .L49
C:\WIN98\TEMP\cc31qjgb.s:1200   .text:0000091f .L50
C:\WIN98\TEMP\cc31qjgb.s:1214   .text:0000093b .L51
C:\WIN98\TEMP\cc31qjgb.s:1232   .text:00000963 .Lfe9
C:\WIN98\TEMP\cc31qjgb.s:1244   .text:0000096d .L53
C:\WIN98\TEMP\cc31qjgb.s:1321   .text:00000a1f .L54
C:\WIN98\TEMP\cc31qjgb.s:1269   .text:000009a7 .L55
C:\WIN98\TEMP\cc31qjgb.s:1280   .text:000009c0 .L57
C:\WIN98\TEMP\cc31qjgb.s:1303   .text:000009f8 .L58
C:\WIN98\TEMP\cc31qjgb.s:1313   .text:00000a10 .L59
C:\WIN98\TEMP\cc31qjgb.s:1331   .text:00000a2d .Lfe10
C:\WIN98\TEMP\cc31qjgb.s:1337   .text:00000a2e .L61
C:\WIN98\TEMP\cc31qjgb.s:1339   .text:00000a30 .Lfe11
C:\WIN98\TEMP\cc31qjgb.s:1352   .text:00000a40 .L65
C:\WIN98\TEMP\cc31qjgb.s:1371   .text:00000a5c .L66
C:\WIN98\TEMP\cc31qjgb.s:1380   .text:00000a67 .L64
C:\WIN98\TEMP\cc31qjgb.s:1383   .text:00000a69 .Lfe12
C:\WIN98\TEMP\cc31qjgb.s:1405   .text:00000a90 .Lfe13
C:\WIN98\TEMP\cc31qjgb.s:1418   .text:00000aa2 .Lfe14
                            *COM*:00000001 flag_mirror
                            *COM*:00000002 global_save_sp

UNDEFINED SYMBOLS
clock_reset
_.tmp
presto_fatal_error
presto_lock
_.z
_.xy
presto_restore_lock
set_interrupt
clock_add
clock_compare
